var infrastructurePage=function(){function e(e){function s(e){return void 0!==m[e.type].size?new google.maps.MarkerImage(l,new google.maps.Size(m[e.type].size.x,m[e.type].size.y),new google.maps.Point(m[e.type].sprite_locaion.x,m[e.type].sprite_locaion.y)):m[e.type].icon_location}a=e;var n=document.querySelector(".js-infrastructure-page__map"),t=document.querySelector(".infrastructure__filter"),i={lat:50.4399011,lng:30.5462197},o=null,r=[],p={sales_dep:!0,main:!0,bank:!0,cafe_restaraunts:!0,dentist:!0,gift_shop:!0,higher_education_establishment:!0,pharmacy:!0,school:!0,shopping_mall:!0,sport_complex:!0,supermarket:!0,toy_store:!0},l="/img/infrastructure/infrastructure_icons_spritesheet.png",c={x:29,y:37},m={sales_dep:"",main:{sprite_locaion:{x:167,y:2},size:{x:54,y:68}},bank:{sprite_locaion:{x:2,y:2},size:c},cafe_restaraunts:{sprite_locaion:{x:35,y:2},size:c},dentist:{sprite_locaion:{x:68,y:2},size:c},gift_shop:{sprite_locaion:{x:101,y:2},size:c},higher_education_establishment:{sprite_locaion:{x:134,y:2},size:c},pharmacy:{sprite_locaion:{x:225,y:2},size:c},school:{sprite_locaion:{x:258,y:2},size:c},shopping_mall:{sprite_locaion:{x:291,y:2},size:c},sport_complex:{sprite_locaion:{x:324,y:2},size:c},supermarket:{sprite_locaion:{x:357,y:2},size:c},toy_store:{sprite_locaion:{x:390,y:2},size:c},custom:{icon_location:"/img/infrastructure/custom_icon"}},u=[{lat:50.440169,lng:30.545682,type:"main",message:'<span class="infrastructure__infowindow">Main building</span>'},{lat:50.442176,lng:30.540265,type:"gift_shop",message:'<span class="infrastructure__infowindow">Gift shop name</span>'},{lat:50.441191,lng:30.539514,type:"sport_complex",message:'<span class="infrastructure__infowindow">Sport complex name</span>'},{lat:50.440452,lng:30.540415,type:"higher_education_establishment",message:'<span class="infrastructure__infowindow">Higher educational establishment name</span>'},{lat:50.440253,lng:30.539031,type:"toy_store",message:'<span class="infrastructure__infowindow">Toy store name</span>'},{lat:50.438995,lng:30.541005,type:"cafe_restaraunts",message:'<span class="infrastructure__infowindow">Cafe/Restaraunt name</span>'},{lat:50.437901,lng:30.539288,type:"school",message:'<span class="infrastructure__infowindow">School name</span>'},{lat:50.439047,lng:30.546454,type:"bank",message:'<span class="infrastructure__infowindow">Bank name</span>'},{lat:50.442162,lng:30.551003,type:"supermarket",message:'<span class="infrastructure__infowindow">Super market name</span>'},{lat:50.438499,lng:30.551947,type:"pharmacy",message:'<span class="infrastructure__infowindow">Pharmacy name</span>'},{lat:50.437022,lng:30.549072,type:"dentist",message:'<span class="infrastructure__infowindow">Dentist name</span>'},{lat:50.435248,lng:30.547223,type:"shopping_mall",message:'<span class="infrastructure__infowindow">Shopping mall name</span>'}],_=new google.maps.Map(n,{zoom:16,center:i,disableDefaultUI:!0,styles:e});u.forEach(function(e){var e=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:_,icon:s(e),type:e.type,message:e.message,animation:google.maps.Animation.DROP});r.push(e),o=new google.maps.InfoWindow({content:e.message}),e.addListener("click",function(){o&&o.close(),o.setContent(this.message),o.open(_,e)})}),t.addEventListener("change",function(e){p[e.target.id]=!!e.target.checked,r.forEach(function(e){p[e.type]?e.getMap()||e.setMap(_):e.setMap(null)})})}var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){e(JSON.parse(this.responseText))}},s.open("GET","/js/map.style.json",!0),s.send();var a}();